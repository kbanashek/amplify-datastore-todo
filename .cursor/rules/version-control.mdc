---
description: Version control, commit messages, version bumping, and push update workflow
alwaysApply: true
---

# Version Control

## Pre-Commit Checks

- **NEVER allow commits with yarn integrity issues**
  - Pre-commit hook automatically runs `yarn check --integrity`
  - If integrity check fails, commit is blocked
  - Fix by running `yarn install` to sync dependencies
  - This prevents committing with broken dependencies or lockfile mismatches

## Commit Messages

- **ALWAYS** provide meaningful commit messages when using version-bump command
- Commit messages are **REQUIRED** and must be descriptive
- Good examples:
  - "Add task grouping by date and time with icons"
  - "Fix DataStore sync issue for questions"
  - "Update task card UI to match design specifications"
- Bad examples (will be rejected):
  - "update"
  - "changes"
  - "fix"
  - Empty or whitespace-only messages

## Version Bumping

- Use semantic versioning (major.minor.patch)
- Always provide a meaningful commit message when bumping versions
- The version-bump script will validate that commit messages are descriptive

## Push Update Workflow

- **When asked to "push update" or similar**, follow this workflow:
  1. Create a new feature branch (e.g., `feature/description-of-changes`)
  2. Fix any lint issues in modified files
  3. Bump the patch version in `package.json` (e.g., `0.1.1` â†’ `0.1.2`)
  4. Update `CHANGELOG.md` with:
     - New version number and current date (format: `YYYY-MM-DD`)
     - Added/Changed/Fixed sections as appropriate
     - Descriptive entries for all changes
  5. Stage all changes (`git add -A`)
  6. Commit with a meaningful message describing all changes
  7. Push the branch to remote (`git push -u origin <branch-name>`)
  8. Add any requested cursor rules to `.cursor/rules/` directory if specified
- **Always verify lint issues are resolved** before committing
- **Always use the current date** when updating CHANGELOG.md
- **Commit messages must be descriptive** - summarize all changes in the commit
