---
description: Prefer object maps over switch/if-else statements for simple value mappings
alwaysApply: true
---

# Object Map Pattern

## Rule

**ALWAYS prefer object maps over switch statements or if-else chains** when mapping values to other values.

## When to Use Object Maps

Use object maps when:
- Mapping one value to another (e.g., status codes to messages, platform to icons, error codes to messages)
- The mapping is static and doesn't require complex logic
- You have 3+ cases to handle
- The logic is a simple lookup/transformation

## Pattern

**‚ùå Bad (switch statement):**
```typescript
function getStatusMessage(status: string): string {
  switch (status) {
    case "pending":
      return "Processing";
    case "completed":
      return "Done";
    case "failed":
      return "Error";
    default:
      return "Unknown";
  }
}
```

**‚ùå Bad (if-else chain):**
```typescript
function getPlatformIcon(platform: string): string {
  if (platform === "ios") {
    return "üçé";
  } else if (platform === "android") {
    return "ü§ñ";
  } else if (platform === "web") {
    return "üåê";
  }
  return "‚ùì";
}
```

**‚úÖ Good (object map):**
```typescript
const STATUS_MESSAGES: Record<string, string> = {
  pending: "Processing",
  completed: "Done",
  failed: "Error",
} as const;

function getStatusMessage(status: string): string {
  return STATUS_MESSAGES[status] ?? "Unknown";
}
```

**‚úÖ Good (object map with function for complex cases):**
```typescript
const PLATFORM_ICONS: Record<string, string> = {
  ios: "üçé",
  android: "ü§ñ",
  web: "üåê",
} as const;

function getPlatformIcon(platform: string): string {
  const baseIcon = PLATFORM_ICONS[platform];
  if (baseIcon) {
    // Handle special cases if needed
    if (platform === "web") {
      // Additional logic for web
    }
    return baseIcon;
  }
  return "‚ùì"; // Fallback
}
```

## Benefits

1. **More readable** - Clear mapping at a glance
2. **Easier to maintain** - Add/remove mappings by editing the object
3. **Type-safe** - TypeScript can infer types from `as const`
4. **Testable** - Easy to test the map separately
5. **Performance** - Object lookup is O(1) vs O(n) for if-else chains

## When NOT to Use Object Maps

Don't use object maps when:
- You need complex logic in each case (use functions or switch)
- You need fall-through behavior (use switch)
- You have only 1-2 cases (if-else is fine)
- The mapping requires side effects (use switch or if-else)

## Examples

**Status mapping:**
```typescript
const LOG_LEVEL_NAMES: Record<LogLevel, string> = {
  [LogLevel.VERBOSE]: "VERBOSE",
  [LogLevel.DEBUG]: "DEBUG",
  [LogLevel.INFO]: "INFO",
  [LogLevel.WARN]: "WARN",
  [LogLevel.ERROR]: "ERROR",
} as const;
```

**Error code mapping:**
```typescript
const ERROR_MESSAGES: Record<string, string> = {
  "E001": "Invalid input",
  "E002": "Network error",
  "E003": "Timeout",
} as const;
```

**Platform/icon mapping:**
```typescript
const PLATFORM_ICONS: Record<string, string> = {
  ios: "üçé",
  android: "ü§ñ",
  web: "üåê",
} as const;
```
