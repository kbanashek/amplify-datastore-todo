#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Pre-push hook: Running tests..."
if command -v jest >/dev/null 2>&1 || npm list jest >/dev/null 2>&1; then
  npm test -- --passWithNoTests --watchAll=false || {
    echo "âŒ Tests failed. Please fix failing tests before pushing."
    exit 1
  }
  echo "âœ… All tests passed!"
else
  echo "âš ï¸  Jest not found, skipping tests. Tests will run in CI/CD."
fi

echo "âœ… Pre-push checks passed!"

